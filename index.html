<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>ä¿®å¿ƒå…»æ€§è®°</title>
<style>
body {
  background: #f8f4ef;
  font-family: "å®‹ä½“";
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;
  height: 100vh;
  padding: 20px;
}
#tipBox {
  width: 40%;
  background: #fff8f2;
  border: 2px solid #cbb8a5;
  border-radius: 10px;
  padding: 15px;
  color: #5c4631;
  line-height: 1.8;
  font-size: 16px;
  box-shadow: 0 0 6px #e0d1be;
  height: 85vh;
  overflow-y: auto;
}
#main {
  width: 50%;
  margin-left: 30px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
button {
  background: #e8d6c2;
  border: none;
  padding: 2px 7px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
}
button:hover {
  background: #d7c1a8;
}
.section {
  background: #fffdf8;
  border: 1px solid #d2c0a8;
  border-radius: 3px;
  padding: 15px;
}
#scoreBoard {
  font-weight: bold;
  color: #4b3823;
  margin-bottom: 5px;
}
#attrBoard {
  background: #fefaf5;
  border: 1px solid #d6c4aa;
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 8px;
  font-size: 15px;
  color: #5c4631;
}
.attr-line {
  display: flex;
  justify-content: space-between;
  padding: 2px 0;
}
/* è°ƒæ•´h3æ ‡ç­¾ */
h3 {
  font-size: 18px; /* ç¼©å°å­—ä½“å¤§å° */
  margin: 0px 0 7px; /* å¢åŠ ä¸Šæ–¹å’Œä¸‹æ–¹çš„é—´è· */
  padding-left: 10px; /* ä½¿æ ‡é¢˜é å·¦ */
}
</style>
</head>
<body>

<div id="tipBox"></div>

<div id="main">
  <div id="scoreBoard">å½“å‰ç­‰çº§ï¼šå©‰å¥³ã€€æ€»ç§¯åˆ†ï¼š0</div>
  <div id="attrBoard">
    <div class="attr-line"><span>ğŸŒ¿ å¥åº·ï¼š</span><span id="healthVal">10</span></div>
    <div class="attr-line"><span>ğŸ”¥ ä½“åŠ›ï¼š</span><span id="staminaVal">10</span></div>
    <div class="attr-line"><span>ğŸ§º æ•´æ´ï¼š</span><span id="tidinessVal">10</span></div>
    <div class="attr-line"><span>ğŸª æ„å¿—ï¼š</span><span id="willVal">10</span></div>
    <div class="attr-line"><span>ğŸ•Šï¸ å¿ƒæ€§ï¼š</span><span id="mindVal">10</span></div>
    <div class="attr-line"><span>ğŸ“œ æ‚Ÿæ€§ï¼š</span><span id="wisdomVal">10</span></div>
  </div>

  <div class="section">
    <h3>ğŸ“– å­¦ä¹ </h3>
    <select id="subject">
      <option>ä¸­åŒ»å­¦</option>
      <option>é’ˆç¸å­¦</option>
      <option>è¥¿åŒ»å­¦</option>
      <option>è‹±æ–‡</option>
    </select>
    <input id="studyHour" type="number" placeholder="å°æ—¶" min="0" style="width:50px;">æ—¶
    <input id="studyMin" type="number" placeholder="åˆ†é’Ÿ" min="0" style="width:60px;">åˆ†
    <button onclick="study()">ä¿®ä¹ </button>
    <button onclick="noStudy()">å·æ‡’ä¸€æ—¥</button>
  </div>

  <div class="section">
    <h3>ğŸ¥£ é¥®é£Ÿ</h3>
    <button onclick="eat('å¥åº·')">è†³é£Ÿæ¸…æ·¡</button>
    <button onclick="eat('åƒåœ¾')">æ²¹ç‚¸å¥¶èŒ¶æ³¡é¢</button>
  </div>

  <div class="section">
    <h3>ğŸ’ª è¿åŠ¨</h3>
    <button onclick="exercise('æŒé‡é”»ä½“')">æŒé‡é”»ä½“ï¼ˆä¸¾å“‘é“ƒï¼‰</button>
    <button onclick="exercise('ä¿®èº«å…»æ€§')">ä¿®èº«å…»æ€§ï¼ˆè…°éƒ¨é”»ç‚¼ï¼‰</button>
    <button onclick="exercise('èˆ’ç­‹æ´»ç»œ')">èˆ’ç­‹æ´»ç»œï¼ˆæ‹‰ä¼¸ï¼‰</button>
    <button onclick="exercise('èˆåŠ¨é£å')">èˆåŠ¨é£åï¼ˆå¥èº«æ“ï¼‰</button>
  </div>

  <div class="section">
    <h3>ğŸ¡ æ—¥å¸¸</h3>
    <button onclick="cook()">çƒ¹é¥ªè†³é£Ÿ</button>
    <button onclick="clean()">æ‰“æ‰«æˆ¿é—´</button>
  </div>

  <div class="section">
    <h3>ğŸª ä»ªå®¹</h3>
    <button onclick="groom('åŒ–å¦†')">æ–½ç²‰é»›</button>
    <button onclick="groom('åˆ·ç‰™')">æ™¨èµ·ç›¥æ´—</button>
    <button onclick="groom('æ´—æ¾¡')">æ²æµ´æ›´è¡£</button>
  </div>

  <div class="section">
    <h3>ğŸ•‰ï¸ å¿µç»</h3>
    <button onclick="chant()">å¿µç»ä¿®è¡Œ</button>
    <button onclick="noChant()">æ€ æ…¢ä¿®è¡Œ</button>
  </div>
</div>

<!-- âœ… Firebase æ¨¡å—å¯¼å…¥ -->
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  
  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAaLeQq_L5JUSQpZ_0jQlHeWm3pXnoxd5g",
    authDomain: "mylifeproject-4712e.firebaseapp.com",
    projectId: "mylifeproject-4712e",
    storageBucket: "mylifeproject-4712e.firebasestorage.app",
    messagingSenderId: "326417385505",
    appId: "1:326417385505:web:f352dacda0da35fb17bb60"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  console.log("âœ… Firebase å·²åˆå§‹åŒ–æˆåŠŸ");
</script>

<!-- æ¸¸æˆé€»è¾‘è„šæœ¬ -->
<script>
// è·å–å½“å‰æ—¥æœŸ
function getCurrentDate() {
  const now = new Date();
  const year = now.getFullYear();
  const month = now.getMonth() + 1; // æœˆä»½ä»0å¼€å§‹ï¼Œéœ€è¦åŠ 1
  const day = now.getDate();
  return `${year}å¹´${month}æœˆ${day}æ—¥`; // è¿”å›æ—¥æœŸæ ¼å¼
}

let attr = {
  health: 0,
  stamina: 0,
  tidiness: 0,
  will: 0,
  mind: 0,
  wisdom: 0
};

function totalScore(){
  return attr.health + attr.stamina + attr.tidiness + attr.will + attr.mind + attr.wisdom;
}

function levelName(){
  const t = totalScore();
  if(t>=150) return "å¤§æˆ";
  if(t>=100) return "ä½³äºº";
  if(t>=60) return "çŸ¥å¥³";
  if(t>=30) return "æ‰å¥³";
  return "å©‰å¥³";
}

function updateDisplay(){
  document.getElementById('scoreBoard').innerText = 
    `å½“å‰ç­‰çº§ï¼š${levelName()}ã€€æ€»ç§¯åˆ†ï¼š${Math.round(totalScore())}`;
  document.getElementById('healthVal').innerText = attr.health.toFixed(1);
  document.getElementById('staminaVal').innerText = attr.stamina.toFixed(1);
  document.getElementById('tidinessVal').innerText = attr.tidiness.toFixed(1);
  document.getElementById('willVal').innerText = attr.will.toFixed(1);
  document.getElementById('mindVal').innerText = attr.mind.toFixed(1);
  document.getElementById('wisdomVal').innerText = attr.wisdom.toFixed(1);
}

function addTip(text){
  const tipBox = document.getElementById('tipBox');
  const p = document.createElement('div');
  const date = getCurrentDate(); // è·å–å½“å‰æ—¥æœŸ
  p.innerText = `[${date}] ${text}`; // åœ¨æç¤ºä¿¡æ¯å‰åŠ ä¸Šæ—¥æœŸ
  tipBox.prepend(p);
}

// åˆå§‹æç¤º
addTip("ğŸŒ¸ æ¸…æ™¨å¾®å…‰ï¼Œé™å€™ä¿®è¡Œå§‹ã€‚");

// ğŸ“– å­¦ä¹ 
function study(){
  const subject = document.getElementById('subject').value;
  let hour = parseFloat(document.getElementById('studyHour').value) || 0;
  let min = parseFloat(document.getElementById('studyMin').value) || 0;
  let totalHour = hour + min/60;
  if(totalHour <= 0){ addTip("æ— å¿ƒäºä¹¦å·ï¼Œæ—¶å…‰æ‚„ç„¶æºœèµ°â€¦â€¦"); return; }

  let gain = totalHour * 3;
  attr.wisdom += gain;
  attr.will += gain * 0.5;

  // éšæœºé€‰æ‹©å¤é£æç¤º
  const studyTips = [
    `ç¯ä¸‹æŒ‘ç¯ç ”è¯»ã€Š${subject}ã€‹ï¼Œç¬”å¢¨ç”Ÿé¦™ï¼Œæ‚Ÿæ€§ï¼‹${gain.toFixed(1)}ï¼Œæ„å¿—ï¼‹${(gain*0.5).toFixed(1)}ã€‚`,
    `è½»å¯ä¹¦å·ï¼Œæ˜¥é£æ‹‚é¢ï¼Œç ”ä¹ ã€Š${subject}ã€‹æœ‰æˆï¼Œæ‚Ÿæ€§ï¼‹${gain.toFixed(1)}ï¼Œæ„å¿—ï¼‹${(gain*0.5).toFixed(1)}ã€‚`,
    `å¤œæ·±ç¯ç«ï¼Œå€©å½±ç ”è¯»ï¼Œã€Š${subject}ã€‹å¦‚è¯—å¦‚ç”»ï¼Œæ‚Ÿæ€§ï¼‹${gain.toFixed(1)}ï¼Œæ„å¿—ï¼‹${(gain*0.5).toFixed(1)}ã€‚`,
    `çª—å¤–æœˆå…‰å¦‚æ°´ï¼Œæ¡Œä¸Šä¹¦é¦™æ‰‘é¼»ï¼Œã€Š${subject}ã€‹ä¸­çš„å¥¥ç§˜æ¸æ¸æ˜äº†ï¼Œæ‚Ÿæ€§ï¼‹${gain.toFixed(1)}ï¼Œæ„å¿—ï¼‹${(gain*0.5).toFixed(1)}ã€‚`
  ];
  addTip(studyTips[Math.floor(Math.random() * studyTips.length)]);
  updateDisplay();
}

function noStudy(){
  attr.will -= 1;
  attr.wisdom -= 1;
  addTip("ä¸€æ—¥å·æ‡’ï¼Œä¹¦å·è’™å°˜ï¼Œæ‚Ÿæ€§ï¼1ï¼Œæ„å¿—ï¼1ã€‚");
  updateDisplay();
}

// ğŸ¥£ é¥®é£Ÿ
function eat(type){
  if(type === 'å¥åº·'){
    attr.health += 1;
    addTip("é’è”¬æ·¡é¥­ï¼Œæ¸…å¿ƒå¯¡æ¬²ï¼Œæ°”è¡€è°ƒå’Œï¼Œå¥åº·ï¼‹1ã€‚");
  } else {
    attr.health -= 2;
    addTip("æ²¹ç‚¸å¥¶èŒ¶æ³¡é¢å…¥è…¹ï¼Œè„¾èƒƒä¸é€‚ï¼Œå¥åº·ï¼2ã€‚");
  }
  updateDisplay();
}

// ğŸ’ª è¿åŠ¨
function exercise(type){
  let tip;
  if(type === "æŒé‡é”»ä½“"){
    attr.stamina += 1.5;
    attr.health += 1;
    tip = [
      "ä¸¾é“å¦‚å±±ï¼Œæ°”è¡€ç•…é€šï¼Œä½“åŠ›ï¼‹1.5ï¼Œå¥åº·ï¼‹1ã€‚",
      "æ²‰å¿ƒé”¤ç‚¼ï¼Œç­‹éª¨èˆ’å±•ï¼Œä½“åŠ›ï¼‹1.5ï¼Œå¥åº·ï¼‹1ã€‚",
      "åŠ›è¡Œé”»ä½“ï¼Œæ°”è¡€æµç•…ï¼Œä½“åŠ›ï¼‹1.5ï¼Œå¥åº·ï¼‹1ã€‚"
    ];
  }

  if(type === "ä¿®èº«å…»æ€§"){
    attr.stamina += 1;
    attr.will += 0.5;
    tip = [
      "è½»èˆ’è…°è‚¢ï¼Œæ°”å®šç¥é—²ï¼Œä½“åŠ›ï¼‹1ï¼Œæ„å¿—ï¼‹0.5ã€‚",
      "è…°èº«è½»æ—‹ï¼Œå¿ƒé™å¦‚æ°´ï¼Œä½“åŠ›ï¼‹1ï¼Œæ„å¿—ï¼‹0.5ã€‚",
      "é™å¿ƒå…»æ€§ï¼Œèˆ’å±•èº«å¿ƒï¼Œä½“åŠ›ï¼‹1ï¼Œæ„å¿—ï¼‹0.5ã€‚"
    ];
  }

  if(type === "èˆ’ç­‹æ´»ç»œ"){
    attr.health += 1;
    attr.mind += 0.5;
    tip = [
      "ç­‹éª¨èˆ’å±•ï¼Œå¿ƒå¢ƒæ¸…å®ï¼Œå¥åº·ï¼‹1ï¼Œå¿ƒæ€§ï¼‹0.5ã€‚",
      "è½»è½»èˆ’å±•ï¼Œèº«å¿ƒæ„‰æ‚¦ï¼Œå¥åº·ï¼‹1ï¼Œå¿ƒæ€§ï¼‹0.5ã€‚",
      "ç­‹éª¨ç•…é€šï¼Œæ°”è¡€æµåŠ¨ï¼Œå¥åº·ï¼‹1ï¼Œå¿ƒæ€§ï¼‹0.5ã€‚"
    ];
  }

  if(type === "èˆåŠ¨é£å"){
    attr.stamina += 1.2;
    attr.health += 0.7;
    tip = [
      "èˆåŠ¨é£åï¼Œæ°”è¡€æµç•…ï¼Œèº«å¿ƒåˆä¸€ï¼Œä½“åŠ›ï¼‹1.2ï¼Œå¥åº·ï¼‹0.7ã€‚",
      "èˆæ­¥è½»ç›ˆï¼Œç¥é‡‡å¥•å¥•ï¼Œä½“åŠ›ï¼‹1.2ï¼Œå¥åº·ï¼‹0.7ã€‚",
      "èˆå§¿ç¿©è·¹ï¼Œæ°”è¡€é¡ºç•…ï¼Œä½“åŠ›ï¼‹1.2ï¼Œå¥åº·ï¼‹0.7ã€‚"
    ];
  }
  addTip(tip[Math.floor(Math.random() * tip.length)]);
  updateDisplay();
}

// ğŸ¡ æ—¥å¸¸
function cook(){
  attr.health += 1;
  attr.will += 0.5;
  addTip("äº²æ‰‹çƒ¹è°ƒï¼Œé¦™æ°”å››æº¢ï¼Œé£Ÿå…»èº«å¿ƒï¼Œå¥åº·ï¼‹1ï¼Œæ„å¿—ï¼‹0.5ã€‚");
  updateDisplay();
}

function clean(){
  attr.tidiness += 1;
  attr.stamina += 0.5;
  addTip("æ‰«å»å°˜åŸƒï¼Œæ˜çª—å‡€å‡ ï¼Œå¿ƒå¢ƒæ¾„æ˜ï¼Œæ•´æ´ï¼‹1ï¼Œä½“åŠ›ï¼‹0.5ã€‚");
  updateDisplay();
}

// ğŸª ä»ªå®¹
function groom(type){
  let tip;
  if(type==="åŒ–å¦†"){attr.will += 1; tip = "è½»æ–½ç²‰é»›ï¼Œæ˜çœ¸å–„çï¼Œç¥é‡‡å¥•å¥•ï¼Œæ„å¿—ï¼‹1ã€‚";}
  if(type==="åˆ·ç‰™"){attr.health += 0.5; tip = "æ¸…æ™¨ç›¥æ´—ï¼Œé½¿ç™½å¦‚ç‰ï¼Œç²¾ç¥ç„•å‘ï¼Œå¥åº·ï¼‹0.5ã€‚";}
  if(type==="æ´—æ¾¡"){attr.health += 1; tip = "æ¸©æ³‰è½»é›¾ï¼Œæ´—å»ç–²ä¹ï¼Œèº«å¿ƒä¿±å‡€ï¼Œå¥åº·ï¼‹1ã€‚";}
  addTip(tip);
  updateDisplay();
}

// ğŸ•‰ï¸ å¿µç»
function chant(){
  attr.mind += 0.5;
  attr.will += 0.5;
  addTip("é™å¿ƒè¯µç»ï¼Œå¿ƒçµæ¾„å‡€ï¼Œå¿ƒæ€§ï¼‹0.5ï¼Œå®šåŠ›ï¼‹0.5ã€‚");
  updateDisplay();
}

function noChant(){
  attr.will -= 1;
  attr.mind -= 1;
  addTip("å¿ƒæµ®æ°”èºï¼Œå¿µç»ä¸ä¸“ï¼Œå¿ƒæ€§ï¼1ï¼Œå®šåŠ›ï¼1ã€‚");
  updateDisplay();
}

updateDisplay();
</script>

</body>
</html>
