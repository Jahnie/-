<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>ä¿®å¿ƒå…»æ€§è®°</title>
<style>
body {
Â  background: #f8f4ef;
Â  font-family: "å®‹ä½“";
Â  display: flex;
Â  flex-direction: row;
Â  justify-content: center;
Â  align-items: flex-start;
Â  height: 100vh;
Â  padding: 20px;
}
#tipBox {
Â  width: 40%;
Â  background: #fff8f2;
Â  border: 2px solid #cbb8a5;
Â  border-radius: 10px;
Â  padding: 15px;
Â  color: #5c4631;
Â  line-height: 1.8;
Â  font-size: 16px;
Â  box-shadow: 0 0 6px #e0d1be;
Â  height: 88.5vh;
Â  overflow-y: auto;
}

#loginSection {
Â  display: flex;
Â  justify-content: center;
Â  gap: 10px;
Â  margin-top: 15px;
Â  border: none;
Â  background:#f9e6ea;
Â  background-color: #f9e6ea;
Â  border: 1px solid #e4b6c2;
Â  color: #704848;
}
#main {
Â  width: 50%;
Â  margin-left: 30px;
Â  display: flex;
Â  flex-direction: column;
Â  gap: 8px;
}
button {
Â  background: #f9e6ea;
Â  border: none;
Â  padding: 2px 7px;
Â  border-radius: 8px;
Â  cursor: pointer;
Â  font-size: 14px;
}
button:hover {
Â  background: #d7c1a8;
}
.section {
Â  background: #fffdf8;
Â  border: 1px solid #d2c0a8;
Â  border-radius: 3px;
Â  padding: 15px;
}
#scoreBoard {
Â  font-weight: bold;
Â  color: #4b3823;
Â  margin-bottom: 5px;
}
#attrBoard {
Â  background: #fefaf5;
Â  border: 1px solid #d6c4aa;
Â  border-radius: 10px;
Â  padding: 10px;
Â  margin-bottom: 8px;
Â  font-size: 15px;
Â  color: #5c4631;
}
.attr-line {
Â  display: flex;
Â  justify-content: space-between;
Â  padding: 2px 0;
}
h3 {
Â  font-size: 18px;
Â  margin: 0px 0 7px;
Â  padding-left: 10px;
}
</style>
</head>
<body>

<div id="tipBox" class="tip-content">
Â  <div id="loginSection">
Â  Â  <button onclick="registerWithEmail()">æ³¨å†Œ</button>
Â  Â  <button onclick="loginWithEmail()">ç™»å½•</button>
Â  Â  <button onclick="saveGameData()">ä¿å­˜è¿›åº¦</button>
Â  </div>
</div>

<div id="main">
Â  <div id="scoreBoard">å½“å‰ç­‰çº§ï¼šå©‰å¥³ã€€æ€»ç§¯åˆ†ï¼š0</div>
Â  <div id="attrBoard">
Â  Â  <div class="attr-line"><span>ğŸŒ¿ å¥åº·ï¼š</span><span id="healthVal">0</span></div>
Â  Â  <div class="attr-line"><span>ğŸ”¥ ä½“åŠ›ï¼š</span><span id="staminaVal">0</span></div>
Â  Â  <div class="attr-line"><span>ğŸ§º æ•´æ´ï¼š</span><span id="tidinessVal">0</span></div>
Â  Â  <div class="attr-line"><span>ğŸª æ„å¿—ï¼š</span><span id="willVal">0</span></div>
Â  Â  <div class="attr-line"><span>ğŸ•Šï¸ å¿ƒæ€§ï¼š</span><span id="mindVal">0</span></div>
Â  Â  <div class="attr-line"><span>ğŸ“œ æ‚Ÿæ€§ï¼š</span><span id="wisdomVal">0</span></div>
Â  </div>

Â  <div class="section">
Â  Â  <h3>ğŸ“– å­¦ä¹ </h3>
Â  Â  <select id="subject">
Â  Â  Â  <option>ä¸­åŒ»å­¦</option>
Â  Â  Â  <option>é’ˆç¸å­¦</option>
Â  Â  Â  <option>è¥¿åŒ»å­¦</option>
Â  Â  Â  <option>è‹±æ–‡</option>
Â  Â  </select>
Â  Â  <input id="studyHour" type="number" placeholder="å°æ—¶" min="0" style="width:50px;">æ—¶
Â  Â  <input id="studyMin" type="number" placeholder="åˆ†é’Ÿ" min="0" style="width:60px;">åˆ†
Â  Â  <button onclick="study()">ä¿®ä¹ </button>
Â  Â  <button onclick="noStudy()">å·æ‡’ä¸€æ—¥</button>
Â  </div>

Â  <div class="section">
Â  Â  <h3>ğŸ¥£ é¥®é£Ÿ</h3>
Â  Â  <button onclick="eat('å¥åº·')">è†³é£Ÿæ¸…æ·¡</button>
Â  Â  <button onclick="eat('åƒåœ¾')">æ²¹ç‚¸å¥¶èŒ¶æ³¡é¢</button>
Â  </div>

Â  <div class="section">
Â  Â  <h3>ğŸ’ª è¿åŠ¨</h3>
Â  Â  <button onclick="exercise('æŒé‡é”»ä½“')">æŒé‡é”»ä½“ï¼ˆä¸¾å“‘é“ƒï¼‰</button>
Â  Â  <button onclick="exercise('ä¿®èº«å…»æ€§')">ä¿®èº«å…»æ€§ï¼ˆè…°éƒ¨é”»ç‚¼ï¼‰</button>
Â  Â  <button onclick="exercise('èˆ’ç­‹æ´»ç»œ')">èˆ’ç­‹æ´»ç»œï¼ˆæ‹‰ä¼¸ï¼‰</button>
Â  Â  <button onclick="exercise('èˆåŠ¨é£å')">èˆåŠ¨é£åï¼ˆå¥èº«æ“ï¼‰</button>
Â  </div>

Â  <div class="section">
Â  Â  <h3>ğŸ¡ æ—¥å¸¸</h3>
Â  Â  <button onclick="cook()">çƒ¹é¥ªè†³é£Ÿ</button>
Â  Â  <button onclick="clean()">æ‰“æ‰«æˆ¿é—´</button>
Â  </div>

Â  <div class="section">
Â  Â  <h3>ğŸª ä»ªå®¹</h3>
Â  Â  <button onclick="groom('åŒ–å¦†')">æ–½ç²‰é»›</button>
Â  Â  <button onclick="groom('åˆ·ç‰™')">æ™¨èµ·ç›¥æ´—</button>
Â  Â  <button onclick="groom('æ´—æ¾¡')">æ²æµ´æ›´è¡£</button>
Â  </div>

Â  <div class="section">
Â  Â  <h3>ğŸ•‰ï¸ å¿µç»</h3>
Â  Â  <button onclick="chant()">å¿µç»ä¿®è¡Œ</button>
Â  Â  <button onclick="noChant()">æ€ æ…¢ä¿®è¡Œ</button>
Â  Â  </div>
</div> <script type="module">
Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
Â  Â  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
Â  Â  import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

Â  Â  // 1. å®šä¹‰å…¨å±€å±æ€§å¯¹è±¡
Â  Â  window.attr = {
Â  Â  Â  Â  health: 0,
Â  Â  Â  Â  stamina: 0,
Â  Â  Â  Â  tidiness: 0,
Â  Â  Â  Â  will: 0,
Â  Â  Â  Â  mind: 0,
Â  Â  Â  Â  wisdom: 0
Â  Â  };
Â  Â Â 
Â  Â  // Firebase é…ç½®
Â  Â  const firebaseConfig = {
Â  Â  Â  apiKey: "AIzaSyAaLeQq_L5JUSQpZ_0jQlHeWm3pXnoxd5g",
Â  Â  Â  authDomain: "mylifeproject-4712e.firebaseapp.com",
Â  Â  Â  projectId: "mylifeproject-4712e",
Â  Â  Â  storageBucket: "mylifeproject-4712e.firebasestorage.app",
Â  Â  Â  messagingSenderId: "326417385505",
Â  Â  Â  appId: "1:326417385505:web:f352dacda0da35fb17bb60"
Â  Â  };

Â  Â  const app = initializeApp(firebaseConfig);
Â  Â  const auth = getAuth();
Â  Â  const db = getFirestore(app);

Â  Â  let currentUser = null;
Â  Â Â 
Â  Â  function getTipsFromDisplay() {
Â  Â  Â  Â  const tipBox = document.getElementById('tipBox');
Â  Â  Â  Â  const children = Array.from(tipBox.children);
Â  Â  Â  Â  return children.slice(0, children.length - 1).map(child => child.innerText);
Â  Â  }
Â  Â Â 
Â  Â  function displayTips(tipsArray) {
Â  Â  Â  Â  const tipBox = document.getElementById('tipBox');
Â  Â  Â  Â  const loginSection = document.getElementById('loginSection');
Â  Â  Â  Â  tipBox.innerHTML = '';
Â  Â  Â  Â  tipBox.appendChild(loginSection);

Â  Â  Â  Â  [...tipsArray].reverse().forEach(tipText => {
Â  Â  Â  Â  Â  Â  const p = document.createElement('div');
Â  Â  Â  Â  Â  Â  p.innerText = tipText;
Â  Â  Â  Â  Â  Â  tipBox.prepend(p);
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  const greeting = document.createElement('div');
Â  Â  Â  Â  greeting.innerText = `--- [${new Date().toLocaleString('zh-CN')}] å­˜æ¡£åŠ è½½å®Œæˆ ---`;
Â  Â  Â  Â  tipBox.prepend(greeting);
Â  Â  }

Â  Â  // ç›‘å¬è®¤è¯çŠ¶æ€
Â  Â  onAuthStateChanged(auth, (user) => {
Â  Â  Â  Â  if (user) {
Â  Â  Â  Â  Â  Â  currentUser = user;
Â  Â  Â  Â  Â  Â  if (window.updateDisplay) window.updateDisplay();
Â  Â  Â  Â  Â  Â  loadGameData(true);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  currentUser = null;
Â  Â  Â  Â  }
Â  Â  });

Â  Â  // ä½¿ç”¨é‚®ç®±æ³¨å†Œ
Â  Â  function registerWithEmail() {
Â  Â  Â  Â  const email = prompt("è¯·è¾“å…¥æ‚¨çš„é‚®ç®±");
Â  Â  Â  Â  const password = prompt("è¯·è¾“å…¥æ‚¨çš„å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰");
Â  Â  Â  Â  if (!email || !password) {
Â  Â  Â  Â  Â  Â  alert("é‚®ç®±å’Œå¯†ç ä¸èƒ½ä¸ºç©ºï¼");
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  createUserWithEmailAndPassword(auth, email, password)
Â  Â  Â  Â  Â  .then((userCredential) => {
Â  Â  Â  Â  Â  Â  currentUser = userCredential.user;
Â  Â  Â  Â  Â  Â  alert("æ³¨å†ŒæˆåŠŸï¼Œå·²ä¸ºæ‚¨ä¿å­˜åˆå§‹è¿›åº¦ï¼");
Â  Â  Â  Â  Â  Â  // ç¡®ä¿åˆå§‹ä¿å­˜çš„æ˜¯ 0 åˆ†æ•°æ®
Â  Â  Â  Â  Â  Â  Object.assign(window.attr, {health: 0, stamina: 0, tidiness: 0, will: 0, mind: 0, wisdom: 0});
Â  Â  Â  Â  Â  Â  if (window.updateDisplay) window.updateDisplay();
Â  Â  Â  Â  Â  Â  saveGameData(true);Â 
Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  .catch((error) => {
Â  Â  Â  Â  Â  Â  console.error("æ³¨å†Œå¤±è´¥", error);
Â  Â  Â  Â  Â  Â  alert(`æ³¨å†Œå¤±è´¥: ${error.message}`);
Â  Â  Â  Â  Â  });
Â  Â  }

Â  Â  // ä½¿ç”¨é‚®ç®±ç™»å½•
Â  Â  function loginWithEmail() {
Â  Â  Â  Â  const email = prompt("è¯·è¾“å…¥æ‚¨çš„é‚®ç®±");
Â  Â  Â  Â  const password = prompt("è¯·è¾“å…¥æ‚¨çš„å¯†ç ");
Â  Â  Â  Â  if (!email || !password) {
Â  Â  Â  Â  Â  Â  alert("é‚®ç®±å’Œå¯†ç ä¸èƒ½ä¸ºç©ºï¼");
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  signInWithEmailAndPassword(auth, email, password)
Â  Â  Â  Â  Â  .then((userCredential) => {
Â  Â  Â  Â  Â  Â  currentUser = userCredential.user;
Â  Â  Â  Â  Â  Â  loadGameData(true);Â 
Â  Â  Â  Â  Â  Â  alert("ç™»å½•æˆåŠŸï¼Œå­˜æ¡£å·²è‡ªåŠ¨åŠ è½½ï¼");
Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  .catch((error) => {
Â  Â  Â  Â  Â  Â  console.error("ç™»å½•å¤±è´¥", error);
Â  Â  Â  Â  Â  Â  alert(`ç™»å½•å¤±è´¥: ${error.message}`);
Â  Â  Â  Â  Â  });
Â  Â  }

Â  Â  // ä¿å­˜æ¸¸æˆæ•°æ®å’Œ Tips åˆ° Firestore
Â  Â  async function saveGameData(isInitialSave = false) {
Â  Â  Â  Â  if (!currentUser) {
Â  Â  Â  Â  Â  Â  alert("è¯·å…ˆç™»å½•æˆ–æ³¨å†Œæ‰èƒ½ä¿å­˜æ•°æ®ï¼");
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  const userDocRef = doc(db, "users", currentUser.uid);	
Â  Â  Â  Â  const currentTips = getTipsFromDisplay();

Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  await setDoc(userDocRef, {
Â  Â  Â  Â  Â  Â  Â  Â  attributes: window.attr,
Â  Â  Â  Â  Â  Â  Â  Â  tips: currentTips,
Â  Â  Â  Â  Â  Â  Â  Â  lastSave: new Date().toLocaleString('zh-CN'),
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  if (!isInitialSave) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("æ¸¸æˆæ•°æ®å’Œå†å²è®°å½•ä¿å­˜æˆåŠŸï¼");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  console.error("æ•°æ®å†™å…¥å¤±è´¥ï¼š", e);
Â  Â  Â  Â  Â  Â  alert("æ•°æ®ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ– Firebase æƒé™ã€‚");
Â  Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â  // ä» Firestore è¯»å–æ¸¸æˆæ•°æ®å’Œ Tips
Â  Â  async function loadGameData(isAutoLoad = false) {
Â  Â  Â  Â  if (!currentUser) return;
Â  Â  Â  Â  const userDocRef = doc(db, "users", currentUser.uid);	
Â  Â  Â  Â Â 
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const docSnap = await getDoc(userDocRef);
Â  Â  Â  Â  Â  Â  if (docSnap.exists()) {
Â  Â  Â  Â  Â  Â  Â  Â  const data = docSnap.data();
Â  Â  Â  Â  Â  Â  Â  Â  if(data.attributes) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Object.assign(window.attr, data.attributes);	
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (window.updateDisplay) window.updateDisplay();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  if (data.tips && Array.isArray(data.tips)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  displayTips(data.tips);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  displayTips([]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.addTip(`æ¬¢è¿å›æ¥ï¼Œ${currentUser.email}ï¼æœªæ‰¾åˆ°å†å²è®°å½•ï¼Œè¯·ç»§ç»­ä¿®è¡Œã€‚`);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } else if (!isAutoLoad) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("æœªæ‰¾åˆ°æ‚¨çš„æ¸¸æˆå­˜æ¡£ï¼Œè¯·è¿›è¡Œæ¸¸æˆæ“ä½œåç‚¹å‡»ã€ä¿å­˜è¿›åº¦ã€‘ï¼");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  console.error("æ•°æ®è¯»å–å¤±è´¥ï¼š", e);
Â  Â  Â  Â  Â  Â  if (!isAutoLoad) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("æ•°æ®è¯»å–å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥ã€‚");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â  // *** å°†æ¨¡å—å†…çš„å‡½æ•°æš´éœ²ç»™å…¨å±€ä½œç”¨åŸŸ ***
Â  Â  window.registerWithEmail = registerWithEmail;
Â  Â  window.loginWithEmail = loginWithEmail;
Â  Â  window.saveGameData = saveGameData;	
</script>


<script>
function getCurrentDate() {
Â  Â  const now = new Date();
Â  Â  const year = now.getFullYear();
Â  Â  const month = now.getMonth() + 1;
Â  Â  const day = now.getDate();
Â  Â  return `${year}å¹´${month}æœˆ${day}æ—¥`;
}

function totalScore(){
Â  Â  // è®¿é—®å…¨å±€ window.attrï¼Œéœ€è¦åœ¨æ¨¡å—è„šæœ¬å®šä¹‰å®Œæˆåæ‰èƒ½å®‰å…¨è®¿é—®
Â  Â  // ä½†æ˜¯åœ¨æ™®é€šè„šæœ¬ä¸­ï¼Œå®ƒé€šå¸¸å¯ä»¥æ‰¾åˆ°æ¨¡å—è„šæœ¬é¢„å®šä¹‰çš„ window.attr
Â  Â  return window.attr.health + window.attr.stamina + window.attr.tidiness + window.attr.will + window.attr.mind + window.attr.wisdom;
}

function levelName(){
Â  Â  const t = totalScore();
Â  Â  if(t>=150) return "å¤§æˆ";
Â  Â  if(t>=100) return "ä½³äºº";
Â  Â  if(t>=60) return "çŸ¥å¥³";
Â  Â  if(t>=30) return "æ‰å¥³";
Â  Â  return "å©‰å¥³";
}

// æš´éœ² updateDisplayï¼Œä¾›æ¨¡å—è„šæœ¬åœ¨åŠ è½½æ•°æ®åè°ƒç”¨
function updateDisplay(){
Â  Â  document.getElementById('scoreBoard').innerText =Â 
Â  Â  Â  Â  `å½“å‰ç­‰çº§ï¼š${levelName()}ã€€æ€»ç§¯åˆ†ï¼š${Math.round(totalScore())}`;
Â  Â  // è®¿é—®å…¨å±€ window.attr
Â  Â  document.getElementById('healthVal').innerText = window.attr.health.toFixed(1);
Â  Â  document.getElementById('staminaVal').innerText = window.attr.stamina.toFixed(1);
Â  Â  document.getElementById('tidinessVal').innerText = window.attr.tidiness.toFixed(1);
Â  Â  document.getElementById('willVal').innerText = window.attr.will.toFixed(1);
Â  Â  document.getElementById('mindVal').innerText = window.attr.mind.toFixed(1);
Â  Â  document.getElementById('wisdomVal').innerText = window.attr.wisdom.toFixed(1);
}
window.updateDisplay = updateDisplay;

// æš´éœ² addTipï¼Œä¾›æ¨¡å—è„šæœ¬åœ¨åŠ è½½æ•°æ®åè°ƒç”¨
function addTip(text){
Â  Â  const tipBox = document.getElementById('tipBox');
Â  Â  const p = document.createElement('div');
Â  Â  const date = getCurrentDate();
Â  Â  p.innerText = `[${date}] ${text}`;
Â  Â  tipBox.prepend(p);
}
window.addTip = addTip;

// åˆå§‹æç¤º
addTip("ğŸŒ¸ æ¸…æ™¨å¾®å…‰ï¼Œé™å€™ä¿®è¡Œå§‹ã€‚");

// ğŸ“– å­¦ä¹ 
function study(){
Â  const subject = document.getElementById('subject').value;
Â  let hour = parseFloat(document.getElementById('studyHour').value) || 0;
Â  let min = parseFloat(document.getElementById('studyMin').value) || 0;
Â  let totalHour = hour + min/60;
Â  if(totalHour <= 0){ addTip("æ— å¿ƒäºä¹¦å·ï¼Œæ—¶å…‰æ‚„ç„¶æºœèµ°â€¦â€¦"); return; }

Â  let gain = totalHour * 3;
Â  window.attr.wisdom += gain;
Â  window.attr.will += gain * 0.5;

Â  // éšæœºé€‰æ‹©å¤é£æç¤º
Â  const studyTips = [
Â  Â  `ç¯ä¸‹æŒ‘ç¯ç ”è¯»ã€Š${subject}ã€‹ï¼Œç¬”å¢¨ç”Ÿé¦™ï¼Œæ‚Ÿæ€§ï¼‹${gain.toFixed(1)}ï¼Œæ„å¿—ï¼‹${(gain*0.5).toFixed(1)}ã€‚`,
Â  Â  `è½»å¯ä¹¦å·ï¼Œæ˜¥é£æ‹‚é¢ï¼Œç ”ä¹ ã€Š${subject}ã€‹æœ‰æˆï¼Œæ‚Ÿæ€§ï¼‹${gain.toFixed(1)}ï¼Œæ„å¿—ï¼‹${(gain*0.5).toFixed(1)}ã€‚`,
Â  Â  `å¤œæ·±ç¯ç«ï¼Œå€©å½±ç ”è¯»ï¼Œã€Š${subject}ã€‹å¦‚è¯—å¦‚ç”»ï¼Œæ‚Ÿæ€§ï¼‹${gain.toFixed(1)}ï¼Œæ„å¿—ï¼‹${(gain*0.5).toFixed(1)}ã€‚`,
Â  Â  `çª—å¤–æœˆå…‰å¦‚æ°´ï¼Œæ¡Œä¸Šä¹¦é¦™æ‰‘é¼»ï¼Œã€Š${subject}ã€‹ä¸­çš„å¥¥ç§˜æ¸æ¸æ˜äº†ï¼Œæ‚Ÿæ€§ï¼‹${gain.toFixed(1)}ï¼Œæ„å¿—ï¼‹${(gain*0.5).toFixed(1)}ã€‚`
Â  ];
Â  addTip(studyTips[Math.floor(Math.random() * studyTips.length)]);
Â  updateDisplay();
}

function noStudy(){
Â  Â  window.attr.will -= 1;
Â  Â  window.attr.wisdom -= 1;
Â  addTip("ä¸€æ—¥å·æ‡’ï¼Œä¹¦å·è’™å°˜ï¼Œæ‚Ÿæ€§ï¼1ï¼Œæ„å¿—ï¼1ã€‚");
Â  updateDisplay();
}

// ğŸ¥£ é¥®é£Ÿ
function eat(type){
Â  if(type === 'å¥åº·'){
Â  Â  window.attr.health += 1;
Â  Â  addTip("é’è”¬æ·¡é¥­ï¼Œæ¸…å¿ƒå¯¡æ¬²ï¼Œæ°”è¡€è°ƒå’Œï¼Œå¥åº·ï¼‹1ã€‚");
Â  } else {
Â  Â  window.attr.health -= 2;
Â  Â  addTip("æ²¹ç‚¸å¥¶èŒ¶æ³¡é¢å…¥è…¹ï¼Œè„¾èƒƒä¸é€‚ï¼Œå¥åº·ï¼2ã€‚");
Â  }
Â  updateDisplay();
}

// ğŸ’ª è¿åŠ¨
function exercise(type){
Â  let tip;
Â  if(type === "æŒé‡é”»ä½“"){
Â  Â  window.attr.stamina += 1.5;
Â  Â  window.attr.health += 1;
Â  Â  tip = [
Â  Â  Â  "ä¸¾é“å¦‚å±±ï¼Œæ°”è¡€ç•…é€šï¼Œä½“åŠ›ï¼‹1.5ï¼Œå¥åº·ï¼‹1ã€‚",
Â  Â  Â  "æ²‰å¿ƒé”¤ç‚¼ï¼Œç­‹éª¨èˆ’å±•ï¼Œä½“åŠ›ï¼‹1.5ï¼Œå¥åº·ï¼‹1ã€‚",
Â  Â  Â  "åŠ›è¡Œé”»ä½“ï¼Œæ°”è¡€æµç•…ï¼Œä½“åŠ›ï¼‹1.5ï¼Œå¥åº·ï¼‹1ã€‚"
Â  Â  ];
Â  }

Â  if(type === "ä¿®èº«å…»æ€§"){
Â  Â  window.attr.stamina += 1;
Â  Â  window.attr.will += 0.5;
Â  Â  tip = [
Â  Â  Â  "è½»èˆ’è…°è‚¢ï¼Œæ°”å®šç¥é—²ï¼Œä½“åŠ›ï¼‹1ï¼Œæ„å¿—ï¼‹0.5ã€‚",
Â  Â  Â  "è…°èº«è½»æ—‹ï¼Œå¿ƒé™å¦‚æ°´ï¼Œä½“åŠ›ï¼‹1ï¼Œæ„å¿—ï¼‹0.5ã€‚",
Â  Â  Â  "é™å¿ƒå…»æ€§ï¼Œèˆ’å±•èº«å¿ƒï¼Œä½“åŠ›ï¼‹1ï¼Œæ„å¿—ï¼‹0.5ã€‚"
Â  Â  ];
Â  }

Â  if(type === "èˆ’ç­‹æ´»ç»œ"){
Â  Â  window.attr.health += 1;
Â  Â  window.attr.mind += 0.5;
Â  Â  tip = [
Â  Â  Â  "ç­‹éª¨èˆ’å±•ï¼Œå¿ƒå¢ƒæ¸…å®ï¼Œå¥åº·ï¼‹1ï¼Œå¿ƒæ€§ï¼‹0.5ã€‚",
Â  Â  Â  "è½»è½»èˆ’å±•ï¼Œèº«å¿ƒæ„‰æ‚¦ï¼Œå¥åº·ï¼‹1ï¼Œå¿ƒæ€§ï¼‹0.5ã€‚",
Â  Â  Â  "ç­‹éª¨ç•…é€šï¼Œæ°”è¡€æµåŠ¨ï¼Œå¥åº·ï¼‹1ï¼Œå¿ƒæ€§ï¼‹0.5ã€‚"
Â  Â  ];
Â  }

Â  if(type === "èˆåŠ¨é£å"){
Â  Â  window.attr.stamina += 1.2;
Â  Â  window.attr.health += 0.7;
Â  Â  tip = [
Â  Â  Â  "èˆåŠ¨é£åï¼Œæ°”è¡€æµç•…ï¼Œèº«å¿ƒåˆä¸€ï¼Œä½“åŠ›ï¼‹1.2ï¼Œå¥åº·ï¼‹0.7ã€‚",
Â  Â  Â  "èˆæ­¥è½»ç›ˆï¼Œç¥é‡‡å¥•å¥•ï¼Œä½“åŠ›ï¼‹1.2ï¼Œå¥åº·ï¼‹0.7ã€‚",
Â  Â  Â  "èˆå§¿ç¿©è·¹ï¼Œæ°”è¡€é¡ºç•…ï¼Œä½“åŠ›ï¼‹1.2ï¼Œå¥åº·ï¼‹0.7ã€‚"
Â  Â  ];
Â  }
Â  addTip(tip[Math.floor(Math.random() * tip.length)]);
Â  updateDisplay();
}

// ğŸ¡ æ—¥å¸¸
function cook(){
Â  window.attr.health += 1;
Â  window.attr.will += 0.5;
Â  addTip("äº²æ‰‹çƒ¹è°ƒï¼Œé¦™æ°”å››æº¢ï¼Œé£Ÿå…»èº«å¿ƒï¼Œå¥åº·ï¼‹1ï¼Œæ„å¿—ï¼‹0.5ã€‚");
Â  updateDisplay();
}

function clean(){
Â  window.attr.tidiness += 1;
Â  window.attr.stamina += 0.5;
Â  addTip("æ‰«å»å°˜åŸƒï¼Œæ˜çª—å‡€å‡ ï¼Œå¿ƒå¢ƒæ¾„æ˜ï¼Œæ•´æ´ï¼‹1ï¼Œä½“åŠ›ï¼‹0.5ã€‚");
Â  updateDisplay();
}

// ğŸª ä»ªå®¹
function groom(type){
Â  let tip;
Â  if(type==="åŒ–å¦†"){window.attr.will += 1; tip = "è½»æ–½ç²‰é»›ï¼Œæ˜çœ¸å–„çï¼Œç¥é‡‡å¥•å¥•ï¼Œæ„å¿—ï¼‹1ã€‚";}
Â  if(type==="åˆ·ç‰™"){window.attr.health += 0.5; tip = "æ¸…æ™¨ç›¥æ´—ï¼Œé½¿ç™½å¦‚ç‰ï¼Œç²¾ç¥ç„•å‘ï¼Œå¥åº·ï¼‹0.5ã€‚";}
Â  if(type==="æ´—æ¾¡"){window.attr.health += 1; tip = "æ¸©æ³‰è½»é›¾ï¼Œæ´—å»ç–²ä¹ï¼Œèº«å¿ƒä¿±å‡€ï¼Œå¥åº·ï¼‹1ã€‚";}
Â  addTip(tip);
Â  updateDisplay();
}

// ğŸ•‰ï¸ å¿µç»
function chant(){
Â  window.attr.mind += 0.5;
Â  window.attr.will += 0.5;
Â  addTip("é™å¿ƒè¯µç»ï¼Œå¿ƒçµæ¾„å‡€ï¼Œå¿ƒæ€§ï¼‹0.5ï¼Œå®šåŠ›ï¼‹0.5ã€‚");
Â  updateDisplay();
}

function noChant(){
Â  window.attr.will -= 1;
Â  window.attr.mind -= 1;
Â  addTip("å¿ƒæµ®æ°”èºï¼Œå¿µç»ä¸ä¸“ï¼Œå¿ƒæ€§ï¼1ï¼Œå®šåŠ›ï¼1ã€‚");
Â  updateDisplay();
}

updateDisplay();
</script>

</body>
</html>